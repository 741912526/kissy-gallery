<!doctype html>
<meta charset="gbk" />
<title>countdown</title>
<link href="countdown.css" rel="stylesheet" />
<script src="http://a.tbcdn.cn/s/kissy/1.1.6/kissy.js"></script>
<script src="countdown.js"></script>
<script src="effects.js"></script>
<div id="demo">
    <p>1</p>
    <div class="cd-lite" data-time="1121685000">剩余时间：${d}天${h}时${m}分</div>
    <div class="cd-medium" data-time="1121685000">剩余时间：${d}天${h}时${m}分</div>
    <div class="cd-large" data-time="1121685000">剩余时间：<span class="clock">${d}天${h}时${m}分</span></div>
    <p>2</p>
    <div class="cd-lite" data-time="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd-medium" data-time="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd-large" data-time="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
    <p>3</p>
    <div class="cd-lite" data-time="1121685000">剩余时间：${h}时${m}分${s-ext}秒</div>
    <div class="cd-medium" data-time="1121685000">剩余时间：${h}时${m}分${s-ext}秒</div>
    <div class="cd-large" data-time="1121685000">剩余时间：<span class="clock">${h}时${m}分${s-ext}秒</span></div>
    <p>4 滑动</p>
    <div class="cd-lite cd-slide" data-time="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd-medium cd-slide" data-time="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd-large cd-slide" data-time="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
    <p>5 不太完美的翻牌</p>
    <div class="cd-large cd-flip" data-time="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
</div>

<script>
    var S = KISSY,
        Countdown = S.Countdown,
        slides = [],
        flips = [];

    function factory(cd) {
        if (cd.hasClass('cd-slide')) {
            slides.push(Countdown(cd, {effect: 'slide'}));
        } else if (cd.hasClass('cd-flip')) {
            flips.push(Countdown(cd, {effect: 'flip'}));
        } else {
            Countdown(cd);
        }
    }

    S.all('.cd-lite').each(factory);
    S.all('.cd-medium').each(factory);
    S.all('.cd-large').each(factory);
</script>
