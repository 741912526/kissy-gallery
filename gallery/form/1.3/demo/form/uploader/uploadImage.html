<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>图片上传demo</title>
<script src="http://a.tbcdn.cn/s/kissy/1.2.0/kissy-min.js" charset="utf-8"></script>
<link rel="stylesheet" type="text/css" href="../../assets/bootstrap.min.css"/>
</head>
<body>
<article id="doc">
    <form action="#">
        <div class="grid">
            <input class="g-u" id="J_UploaderBtn" name="Filedata" type="image-uploader" value="上传图片"
                   action="upload.php" postData='{"username":"minghe"}' urlsInputName="imageUrls"
                   required maxSize="500" max="4" allowExts="jpg,jpeg,png,gif,bmp"
            >

            <!--用来存放服务器端返回的图片路径，多个图片以逗号隔开-->
            <input type="hidden" name="imageUrls">

            <div class="g-u upload-count-wrapper">您还可以上传<em id="J_UploadCount">5</em>张图片</div>
        </div>
        <ul id="J_UploaderQueue" class="grid">

        </ul>
    </form>
</article>
<script>
    var S = KISSY,
        //包路径，实际使用请直接配置为"http://a.tbcdn.cn/s/kissy/"
            path = S.Config.debug && "../../../../../../" || "http://a.tbcdn.cn/s/kissy/";
    S.config({
        packages:[ {
            name:"gallery",
            path:path,
            charset:"utf-8"
        } ]
    });
    //加载上传组件入口文件
    KISSY.use('gallery/form/1.3/uploader/imageUploader', function (S, ImageUploader) {
        var uploader = new ImageUploader('#J_UploaderBtn','#J_UploaderQueue');
        uploader.render();
    })
</script>

<!-- 代码高亮 START  -->
<link href='../../assets/syntaxhighlighter_3.0.83/sh.css' rel='stylesheet' type='text/css' />
<script type="text/javascript" src="../../assets/syntaxhighlighter_3.0.83/sh.js"></script>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<!-- 代码高亮 END  -->
</body>
</html>
